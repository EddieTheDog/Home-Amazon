<!DOCTYPE html>
<html>
<head>
  <title>Warehouse Scanner</title>
</head>
<body>
  <h1>ğŸ“± Warehouse Scanner</h1>

  <form id="scanForm">
    <input type="text" name="packageId" placeholder="Scan or enter Package ID" required>
    <button type="submit">Send Scan</button>
  </form>

  <p id="status"></p>

  <script>
    const form = document.getElementById('scanForm');
    const statusEl = document.getElementById('status');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const data = new FormData(form);
      const packageId = data.get('packageId');

      try {
        const res = await fetch('/warehouse/scan', {
          method: 'POST',
          headers: {'Content-Type': 'application/x-www-form-urlencoded'},
          body: new URLSearchParams({ packageId })
        });
        if(res.ok){
          statusEl.innerText = 'âœ… Scan sent!';
          form.reset();
        } else {
          statusEl.innerText = 'âŒ Package not found';
        }
      } catch(err){
        statusEl.innerText = 'âŒ Error sending scan';
      }
    });
  </script>
</body>
</html>
